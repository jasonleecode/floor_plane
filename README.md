# æˆ·å‹å›¾è½¬æœºå™¨äººåœ°å›¾å’Œè·¯å¾„è§„åˆ’ç³»ç»Ÿ

è¿™æ˜¯ä¸€ä¸ªå°†æˆ·å‹å›¾è½¬æ¢æˆæœºå™¨äººåœ°å›¾çš„ç¨‹åºï¼Œæä¾›äº†å¤šç§è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œæ”¯æŒå›¾å½¢ç•Œé¢æ“ä½œï¼Œå¯ä»¥åœ¨åœ°å›¾ä¸Šè®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œç„¶åç”Ÿæˆè§„åˆ’è·¯å¾„ã€‚ç³»ç»ŸåŒ…å«æœ€çŸ­è·¯å¾„ç®—æ³•å’Œé€‚ç”¨äºæ‰«åœ°æœºå™¨äººçš„æ¸…æ‰«è·¯å¾„ç®—æ³•ã€‚

<img width="1197" height="875" alt="1757319270390" src="https://github.com/user-attachments/assets/47e3c7fb-01d6-4695-9c48-7875142b2231" />


## åŠŸèƒ½ç‰¹æ€§

### ğŸ  æˆ·å‹å›¾å¤„ç†
- è‡ªåŠ¨åŠ è½½PNG/JPG/JPEG/BMP/TIFFæ ¼å¼çš„æˆ·å‹å›¾
- æ™ºèƒ½æå–å¢™å£å’Œéšœç¢ç‰©
- æ”¯æŒå›¾åƒç¼©æ”¾å’Œé¢„å¤„ç†
- è‡ªåŠ¨ç”Ÿæˆæœºå™¨äººå¯ç”¨çš„æ …æ ¼åœ°å›¾
- éšœç¢ç‰©è‡ªåŠ¨ç¼–å·æ˜¾ç¤º

### ğŸ›£ï¸ è·¯å¾„è§„åˆ’ç®—æ³•
- **A*** - å¯å‘å¼æœç´¢ï¼Œæœ€ä¼˜è·¯å¾„
- **Dijkstra** - ä¿è¯æœ€çŸ­è·¯å¾„ï¼ˆé»˜è®¤ç®—æ³•ï¼‰
- **RRT** - æ¦‚ç‡å®Œå¤‡ï¼Œé€‚åˆå¤æ‚ç¯å¢ƒ
- **RRT*** - æ¸è¿‘æœ€ä¼˜ç‰ˆæœ¬
- **JPS** - A*çš„é«˜æ•ˆä¼˜åŒ–ç‰ˆæœ¬
- **Zigzag** - æ‰«åœ°æœºå™¨äººä¸“ç”¨æ¸…æ‰«è·¯å¾„
- **Spiral** - èºæ—‹å¼æ¸…æ‰«è·¯å¾„

### ğŸ¯ åº”ç”¨åœºæ™¯
- æ‰«åœ°æœºå™¨äººè·¯å¾„è§„åˆ’
- å®¤å†…æœºå™¨äººå¯¼èˆª
- æˆ·å‹å›¾åˆ†æå’Œå¤„ç†
- è·¯å¾„è§„åˆ’ç®—æ³•ç ”ç©¶
- æ•™å­¦æ¼”ç¤ºå’Œç®—æ³•æ¯”è¾ƒ

### ğŸ–±ï¸ äº¤äº’å¼åŠŸèƒ½
- **å›¾å½¢ç•Œé¢æ“ä½œ** - å®Œå…¨åŸºäºGUIï¼Œæ— éœ€å‘½ä»¤è¡Œå‚æ•°
- **æ–‡ä»¶é€‰æ‹©** - æ”¯æŒæ–‡ä»¶å¯¹è¯æ¡†é€‰æ‹©æˆ·å‹å›¾
- **é¼ æ ‡ç‚¹å‡»é€‰æ‹©** - å·¦é”®é€‰æ‹©èµ·ç‚¹ï¼Œå³é”®é€‰æ‹©ç»ˆç‚¹
- **å®æ—¶è·¯å¾„è§„åˆ’** - ç‚¹å‡»æŒ‰é’®ç”Ÿæˆè·¯å¾„
- **å¤šç®—æ³•æ”¯æŒ** - æ”¯æŒæ‰€æœ‰è·¯å¾„è§„åˆ’å’Œæ¸…æ‰«ç®—æ³•
- **å¯è§†åŒ–åé¦ˆ** - å®æ—¶æ˜¾ç¤ºé€‰æ‹©çš„ç‚¹å’Œè§„åˆ’ç»“æœ
- **éšœç¢ç‰©ç¼–å·** - æ¯ä¸ªéšœç¢ç‰©éƒ½æœ‰æ¸…æ™°ç¼–å·

## å¿«é€Ÿå¼€å§‹

### 1. å›¾å½¢ç•Œé¢ç¨‹åºï¼ˆæ¨èï¼‰

```bash
# ç›´æ¥è¿è¡Œå›¾å½¢ç•Œé¢ç¨‹åº
python interactive_path_planner.py

# æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬
./run_planner.sh
```

**æ“ä½œæµç¨‹ï¼š**
1. å¯åŠ¨ç¨‹åºåï¼Œç‚¹å‡»"Select Image"é€‰æ‹©æˆ·å‹å›¾
2. ç‚¹å‡»"Load Map"åŠ è½½å’Œå¤„ç†åœ°å›¾
3. å·¦é”®ç‚¹å‡»åœ°å›¾è®¾ç½®èµ·ç‚¹
4. å³é”®ç‚¹å‡»åœ°å›¾è®¾ç½®ç»ˆç‚¹
5. ç‚¹å‡»"Generate Path"ç”Ÿæˆè·¯å¾„
6. ä½¿ç”¨"Clear Path"æ¸…é™¤è·¯å¾„æˆ–"Reset"é‡æ–°å¼€å§‹

### 2. ç¨‹åºåŒ–ä½¿ç”¨

```python
from script.house_plan_to_robot_map import HousePlanToRobotMap
from script.floor_plan.path_planning import Point

# åŠ è½½æˆ·å‹å›¾
system = HousePlanToRobotMap("your_floor_plan.png", obstacle_scale=0.3)

# è®¾ç½®èµ·ç‚¹å’Œç»ˆç‚¹
start = Point(50, 50)
goal = Point(200, 200)

# è§„åˆ’è·¯å¾„
path = system.plan_path(start, goal, 'Dijkstra')

# å¯è§†åŒ–ç»“æœ
system.visualize_path(start, goal, 'Dijkstra')
```

### 3. æ¸…æ‰«è·¯å¾„è§„åˆ’

```python
# Zigzagæ¸…æ‰«è·¯å¾„
cleaning_path = system.plan_cleaning_path(start, 'Zigzag')
system.visualize_cleaning_path(start, 'Zigzag')

# Spiralæ¸…æ‰«è·¯å¾„
spiral_path = system.plan_cleaning_path(start, 'Spiral')
system.visualize_cleaning_path(start, 'Spiral')
```

### 4. ç»¼åˆæµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python test/comprehensive_test.py

# åªè¿è¡Œäº¤äº’å¼æ¼”ç¤º
python test/comprehensive_test.py --interactive
```

## è¿è¡Œç¤ºä¾‹

### å›¾å½¢ç•Œé¢ç¨‹åº
```bash
# å¯åŠ¨å›¾å½¢ç•Œé¢
python interactive_path_planner.py
```

### ç»¼åˆæµ‹è¯•
```bash
# è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶
python test/comprehensive_test.py
```

### æ¼”ç¤ºç¨‹åº
```bash
# äº¤äº’å¼æ¼”ç¤º
python demo_interactive_planner.py
```

## æ–‡ä»¶ç»“æ„

```
floor_plane/
â”œâ”€â”€ interactive_path_planner.py        # ä¸»å›¾å½¢ç•Œé¢ç¨‹åº
â”œâ”€â”€ demo_interactive_planner.py        # æ¼”ç¤ºç¨‹åº
â”œâ”€â”€ run_planner.sh                     # å¯åŠ¨è„šæœ¬
â”œâ”€â”€ script/
â”‚   â”œâ”€â”€ floor_plan/
â”‚   â”‚   â”œâ”€â”€ path_planning.py          # è·¯å¾„è§„åˆ’ç®—æ³•åº“
â”‚   â”‚   â”œâ”€â”€ floor_plan.py             # æ¥¼å±‚å¹³é¢å›¾å¤„ç†
â”‚   â”‚   â”œâ”€â”€ floorplan_extraction.py   # å›¾åƒæå–ç®—æ³•
â”‚   â”‚   â””â”€â”€ utils.py                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ house_plan_to_robot_map.py    # ä¸»ç³»ç»Ÿ
â”‚   â””â”€â”€ floor_plan_runtime.py         # è¿è¡Œæ—¶ç³»ç»Ÿ
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ comprehensive_test.py         # ç»¼åˆæµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ README.md                     # æµ‹è¯•è¯´æ˜
â”œâ”€â”€ topdown_floors.png                # ç¤ºä¾‹æˆ·å‹å›¾
â”œâ”€â”€ topdown_floors2.png
â”œâ”€â”€ topdown_floors3.png
â””â”€â”€ README.md
```


## ä¾èµ–é¡¹

- Python 3.6+
- OpenCV (cv2)
- NumPy
- Matplotlib
- SciPy
- scikit-image
- tkinter (é€šå¸¸éšPythonå®‰è£…)

## å®‰è£…ä¾èµ–

```bash
pip install opencv-python numpy matplotlib scipy scikit-image
```


## æ‰©å±•åŠŸèƒ½

- æ”¯æŒå¤šç§å›¾åƒæ ¼å¼
- éšœç¢ç‰©è‡ªåŠ¨ç¼–å·
- å›¾å½¢ç•Œé¢æ“ä½œ
- å®æ—¶è·¯å¾„è§„åˆ’
- å¤šç®—æ³•æ¯”è¾ƒ
- æ¸…æ‰«è·¯å¾„è§„åˆ’
- å¯å¯¼å‡ºè·¯å¾„æ•°æ®

